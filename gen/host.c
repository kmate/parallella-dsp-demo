#include "processor.h"
#include <e-feldspar.h>
#include <e-hal.h>
#include <e-loader.h>
#include <stdbool.h>
#include <stdint.h>
#include <unistd.h>
off_t la0 = 8192;
off_t la1 = 8196;
off_t sa2 = 16777216;
off_t la3 = 8192;
off_t la4 = 8200;
off_t la5 = 8204;
off_t la6 = 8196;
off_t la7 = 8200;
off_t la8 = 8192;
off_t la9 = 10256;
off_t la10 = 10260;
off_t la11 = 8196;
off_t la12 = 8200;
off_t la13 = 8192;
off_t la14 = 10256;
off_t la15 = 10260;
off_t la16 = 8196;
off_t la17 = 8200;
off_t la18 = 8192;
off_t la19 = 10256;
off_t la20 = 10260;
off_t la21 = 8196;
off_t la22 = 8200;
off_t la23 = 8192;
off_t la24 = 10256;
off_t la25 = 10260;
off_t la26 = 8196;
off_t la27 = 8200;
off_t la28 = 8192;
off_t la29 = 10256;
off_t la30 = 10260;
off_t la31 = 8196;
off_t la32 = 8200;
off_t la33 = 8192;
off_t la34 = 10256;
off_t la35 = 10260;
off_t la36 = 8196;
off_t la37 = 8200;
off_t la38 = 8192;
off_t la39 = 9240;
off_t la40 = 9244;
off_t la41 = 8196;
off_t la42 = 8200;
off_t la43 = 8192;
off_t la44 = 9240;
off_t la45 = 9244;
off_t la46 = 8196;
off_t la47 = 8200;
off_t la48 = 8192;
off_t la49 = 10256;
off_t la50 = 10260;
off_t la51 = 8196;
off_t la52 = 8200;
off_t la53 = 8192;
off_t la54 = 10256;
off_t la55 = 10260;
off_t la56 = 8196;
off_t la57 = 8200;
off_t la58 = 8192;
off_t la59 = 10256;
off_t la60 = 10260;
off_t la61 = 8196;
off_t la62 = 8200;
off_t la63 = 8192;
off_t la64 = 10256;
off_t la65 = 10260;
off_t la66 = 8196;
off_t la67 = 8200;
off_t la68 = 8192;
off_t la69 = 10256;
off_t la70 = 10260;
off_t la71 = 8196;
off_t la72 = 8200;
off_t la73 = 8192;
off_t la74 = 10256;
off_t la75 = 10260;
off_t la76 = 8196;
off_t la77 = 8200;
off_t la78 = 9228;
off_t la79 = 9232;
off_t sa80 = 16778244;
int main()
{
    e_epiphany_t group0;
    e_mem_t shm1;
    uint32_t _a2[1];
    uint32_t *a2 = _a2;
    uint32_t _a3[1];
    uint32_t *a3 = _a3;
    uint32_t _a4[1];
    uint32_t *a4 = _a4;
    uint32_t _a5[1];
    uint32_t *a5 = _a5;
    uint32_t _a6[1];
    uint32_t *a6 = _a6;
    uint32_t _a7[1];
    uint32_t *a7 = _a7;
    uint32_t _a8[1];
    uint32_t *a8 = _a8;
    uint32_t _a9[1];
    uint32_t *a9 = _a9;
    uint32_t _a10[1];
    uint32_t *a10 = _a10;
    uint32_t _a11[1];
    uint32_t *a11 = _a11;
    uint32_t _a12[1];
    uint32_t *a12 = _a12;
    uint32_t _a13[1];
    uint32_t *a13 = _a13;
    uint32_t _a14[1];
    uint32_t *a14 = _a14;
    uint32_t _a15[1];
    uint32_t *a15 = _a15;
    uint32_t _a16[1];
    uint32_t *a16 = _a16;
    uint32_t _a17[1];
    uint32_t *a17 = _a17;
    uint32_t _a18[1];
    uint32_t *a18 = _a18;
    uint32_t _a19[1];
    uint32_t *a19 = _a19;
    uint32_t _a20[1];
    uint32_t *a20 = _a20;
    uint32_t _a21[1];
    uint32_t *a21 = _a21;
    uint32_t _a22[1];
    uint32_t *a22 = _a22;
    uint32_t _a23[1];
    uint32_t *a23 = _a23;
    uint32_t _a24[1];
    uint32_t *a24 = _a24;
    uint32_t _a25[1];
    uint32_t *a25 = _a25;
    uint32_t _a26[1];
    uint32_t *a26 = _a26;
    uint32_t _a27[1];
    uint32_t *a27 = _a27;
    uint32_t _a28[1];
    uint32_t *a28 = _a28;
    uint32_t _a29[1];
    uint32_t *a29 = _a29;
    uint32_t _a30[1];
    uint32_t *a30 = _a30;
    uint32_t _a31[1];
    uint32_t *a31 = _a31;
    uint32_t _a32[1];
    uint32_t *a32 = _a32;
    uint32_t _a33[1];
    uint32_t *a33 = _a33;
    uint32_t _a34[1];
    uint32_t *a34 = _a34;
    uint32_t _a35[1];
    uint32_t *a35 = _a35;
    uint32_t _a36[1];
    uint32_t *a36 = _a36;
    uint32_t _a37[1];
    uint32_t *a37 = _a37;
    uint32_t _a38[1];
    uint32_t *a38 = _a38;
    uint32_t _a39[1];
    uint32_t *a39 = _a39;
    uint32_t _a40[1];
    uint32_t *a40 = _a40;
    uint32_t _a41[1];
    uint32_t *a41 = _a41;
    uint32_t _a42[1];
    uint32_t *a42 = _a42;
    uint32_t _a43[1];
    uint32_t *a43 = _a43;
    uint32_t _a44[1];
    uint32_t *a44 = _a44;
    uint32_t _a45[1];
    uint32_t *a45 = _a45;
    uint32_t _a46[1];
    uint32_t *a46 = _a46;
    uint32_t _a47[1];
    uint32_t *a47 = _a47;
    uint32_t _a48[1];
    uint32_t *a48 = _a48;
    uint32_t _a49[1];
    uint32_t *a49 = _a49;
    uint32_t _a50[1];
    uint32_t *a50 = _a50;
    uint32_t _a51[1];
    uint32_t *a51 = _a51;
    uint32_t _a52[1];
    uint32_t *a52 = _a52;
    uint32_t _a53[1];
    uint32_t *a53 = _a53;
    uint32_t _a54[1];
    uint32_t *a54 = _a54;
    uint32_t _a55[1];
    uint32_t *a55 = _a55;
    uint32_t _a56[1];
    uint32_t *a56 = _a56;
    uint32_t _a57[1];
    uint32_t *a57 = _a57;
    uint32_t _a58[1];
    uint32_t *a58 = _a58;
    uint32_t _a59[1];
    uint32_t *a59 = _a59;
    uint32_t _a60[1];
    uint32_t *a60 = _a60;
    uint32_t _a61[1];
    uint32_t *a61 = _a61;
    uint32_t _a62[1];
    uint32_t *a62 = _a62;
    uint32_t _a63[1];
    uint32_t *a63 = _a63;
    e_mem_t shm64;
    uint32_t _a65[1];
    uint32_t *a65 = _a65;
    uint32_t _a66[1];
    uint32_t *a66 = _a66;
    bool r67;
    
    e_init(0);
    e_reset_system();
    e_open(&group0, 0, 0, 4, 4);
    e_reset_group(&group0);
    setup_queues();
    e_alloc(&shm1, sa2, 1028);
    a2[0] = 0;
    host_write_local(&group0, 0, 0, la0, a2, 0, 0, 0);
    a3[0] = 0;
    host_write_local(&group0, 0, 0, la1, a3, 0, 0, 0);
    a4[0] = 0;
    host_write_local(&group0, 0, 1, la3, a4, 0, 0, 0);
    a5[0] = 0;
    host_write_local(&group0, 0, 0, la4, a5, 0, 0, 0);
    a6[0] = 0;
    host_write_local(&group0, 0, 0, la5, a6, 0, 0, 0);
    a7[0] = 0;
    host_write_local(&group0, 0, 1, la6, a7, 0, 0, 0);
    e_load("core0.srec", &group0, 0, 0, 1);
    a8[0] = 0;
    host_write_local(&group0, 0, 2, la8, a8, 0, 0, 0);
    a9[0] = 0;
    host_write_local(&group0, 0, 1, la9, a9, 0, 0, 0);
    a10[0] = 0;
    host_write_local(&group0, 0, 1, la10, a10, 0, 0, 0);
    a11[0] = 0;
    host_write_local(&group0, 0, 2, la11, a11, 0, 0, 0);
    e_load("core1.srec", &group0, 0, 1, 1);
    a12[0] = 0;
    host_write_local(&group0, 0, 3, la13, a12, 0, 0, 0);
    a13[0] = 0;
    host_write_local(&group0, 0, 2, la14, a13, 0, 0, 0);
    a14[0] = 0;
    host_write_local(&group0, 0, 2, la15, a14, 0, 0, 0);
    a15[0] = 0;
    host_write_local(&group0, 0, 3, la16, a15, 0, 0, 0);
    e_load("core2.srec", &group0, 0, 2, 1);
    a16[0] = 0;
    host_write_local(&group0, 1, 3, la18, a16, 0, 0, 0);
    a17[0] = 0;
    host_write_local(&group0, 0, 3, la19, a17, 0, 0, 0);
    a18[0] = 0;
    host_write_local(&group0, 0, 3, la20, a18, 0, 0, 0);
    a19[0] = 0;
    host_write_local(&group0, 1, 3, la21, a19, 0, 0, 0);
    e_load("core3.srec", &group0, 0, 3, 1);
    a20[0] = 0;
    host_write_local(&group0, 1, 2, la23, a20, 0, 0, 0);
    a21[0] = 0;
    host_write_local(&group0, 1, 3, la24, a21, 0, 0, 0);
    a22[0] = 0;
    host_write_local(&group0, 1, 3, la25, a22, 0, 0, 0);
    a23[0] = 0;
    host_write_local(&group0, 1, 2, la26, a23, 0, 0, 0);
    e_load("core7.srec", &group0, 1, 3, 1);
    a24[0] = 0;
    host_write_local(&group0, 1, 1, la28, a24, 0, 0, 0);
    a25[0] = 0;
    host_write_local(&group0, 1, 2, la29, a25, 0, 0, 0);
    a26[0] = 0;
    host_write_local(&group0, 1, 2, la30, a26, 0, 0, 0);
    a27[0] = 0;
    host_write_local(&group0, 1, 1, la31, a27, 0, 0, 0);
    e_load("core6.srec", &group0, 1, 2, 1);
    a28[0] = 0;
    host_write_local(&group0, 1, 0, la33, a28, 0, 0, 0);
    a29[0] = 0;
    host_write_local(&group0, 1, 1, la34, a29, 0, 0, 0);
    a30[0] = 0;
    host_write_local(&group0, 1, 1, la35, a30, 0, 0, 0);
    a31[0] = 0;
    host_write_local(&group0, 1, 0, la36, a31, 0, 0, 0);
    e_load("core5.srec", &group0, 1, 1, 1);
    a32[0] = 0;
    host_write_local(&group0, 2, 0, la38, a32, 0, 0, 0);
    a33[0] = 0;
    host_write_local(&group0, 1, 0, la39, a33, 0, 0, 0);
    a34[0] = 0;
    host_write_local(&group0, 1, 0, la40, a34, 0, 0, 0);
    a35[0] = 0;
    host_write_local(&group0, 2, 0, la41, a35, 0, 0, 0);
    e_load("core4.srec", &group0, 1, 0, 1);
    a36[0] = 0;
    host_write_local(&group0, 2, 1, la43, a36, 0, 0, 0);
    a37[0] = 0;
    host_write_local(&group0, 2, 0, la44, a37, 0, 0, 0);
    a38[0] = 0;
    host_write_local(&group0, 2, 0, la45, a38, 0, 0, 0);
    a39[0] = 0;
    host_write_local(&group0, 2, 1, la46, a39, 0, 0, 0);
    e_load("core8.srec", &group0, 2, 0, 1);
    a40[0] = 0;
    host_write_local(&group0, 2, 2, la48, a40, 0, 0, 0);
    a41[0] = 0;
    host_write_local(&group0, 2, 1, la49, a41, 0, 0, 0);
    a42[0] = 0;
    host_write_local(&group0, 2, 1, la50, a42, 0, 0, 0);
    a43[0] = 0;
    host_write_local(&group0, 2, 2, la51, a43, 0, 0, 0);
    e_load("core9.srec", &group0, 2, 1, 1);
    a44[0] = 0;
    host_write_local(&group0, 2, 3, la53, a44, 0, 0, 0);
    a45[0] = 0;
    host_write_local(&group0, 2, 2, la54, a45, 0, 0, 0);
    a46[0] = 0;
    host_write_local(&group0, 2, 2, la55, a46, 0, 0, 0);
    a47[0] = 0;
    host_write_local(&group0, 2, 3, la56, a47, 0, 0, 0);
    e_load("core10.srec", &group0, 2, 2, 1);
    a48[0] = 0;
    host_write_local(&group0, 3, 3, la58, a48, 0, 0, 0);
    a49[0] = 0;
    host_write_local(&group0, 2, 3, la59, a49, 0, 0, 0);
    a50[0] = 0;
    host_write_local(&group0, 2, 3, la60, a50, 0, 0, 0);
    a51[0] = 0;
    host_write_local(&group0, 3, 3, la61, a51, 0, 0, 0);
    e_load("core11.srec", &group0, 2, 3, 1);
    a52[0] = 0;
    host_write_local(&group0, 3, 2, la63, a52, 0, 0, 0);
    a53[0] = 0;
    host_write_local(&group0, 3, 3, la64, a53, 0, 0, 0);
    a54[0] = 0;
    host_write_local(&group0, 3, 3, la65, a54, 0, 0, 0);
    a55[0] = 0;
    host_write_local(&group0, 3, 2, la66, a55, 0, 0, 0);
    e_load("core15.srec", &group0, 3, 3, 1);
    a56[0] = 0;
    host_write_local(&group0, 3, 1, la68, a56, 0, 0, 0);
    a57[0] = 0;
    host_write_local(&group0, 3, 2, la69, a57, 0, 0, 0);
    a58[0] = 0;
    host_write_local(&group0, 3, 2, la70, a58, 0, 0, 0);
    a59[0] = 0;
    host_write_local(&group0, 3, 1, la71, a59, 0, 0, 0);
    e_load("core14.srec", &group0, 3, 2, 1);
    a60[0] = 0;
    host_write_local(&group0, 3, 0, la73, a60, 0, 0, 0);
    a61[0] = 0;
    host_write_local(&group0, 3, 1, la74, a61, 0, 0, 0);
    a62[0] = 0;
    host_write_local(&group0, 3, 1, la75, a62, 0, 0, 0);
    a63[0] = 0;
    host_write_local(&group0, 3, 0, la76, a63, 0, 0, 0);
    e_load("core13.srec", &group0, 3, 1, 1);
    e_alloc(&shm64, sa80, 1028);
    a65[0] = 0;
    host_write_local(&group0, 3, 0, la78, a65, 0, 0, 0);
    a66[0] = 0;
    host_write_local(&group0, 3, 0, la79, a66, 0, 0, 0);
    e_load("core12.srec", &group0, 3, 0, 1);
    r67 = true;
    while (1) {
        bool v68;
        float _a69[256];
        float *a69 = _a69;
        bool v70;
        uint32_t r71;
        float _a72[256];
        float *a72 = _a72;
        uint32_t v73;
        uint32_t r74;
        
        v68 = r67;
        if (!v68)
            break;
        v70 = receive_samples(a69);
        r71 = 256;
        for (v73 = 0; v73 < 256; v73++) {
            a72[v73] = a69[v73];
        }
        r74 = 0;
        while (1) {
            uint32_t v75;
            uint32_t v76;
            uint32_t _a82[1];
            uint32_t *a82 = _a82;
            uint32_t v83;
            uint32_t _a84[1];
            uint32_t *a84 = _a84;
            uint32_t v85;
            uint32_t let86;
            uint32_t r87;
            uint32_t r88;
            uint32_t let89;
            uint32_t r90;
            uint32_t let93;
            uint32_t r94;
            uint32_t _a95[1];
            uint32_t *a95 = _a95;
            
            v75 = r74;
            if (!(v75 < 256))
                break;
            v76 = r74;
            while (1) {
                uint32_t _a77[1];
                uint32_t *a77 = _a77;
                uint32_t v78;
                uint32_t _a79[1];
                uint32_t *a79 = _a79;
                uint32_t v80;
                uint32_t let81;
                
                host_read_local(&group0, 0, 0, la0, a77, 0, 0, 0);
                v78 = a77[0];
                host_read_local(&group0, 0, 0, la1, a79, 0, 0, 0);
                v80 = a79[0];
                let81 = v80 + 1;
                if (!((let81 < 257 ? let81 : v80 + 4294967040) == v78))
                    break;
                usleep(100);
            }
            host_read_local(&group0, 0, 0, la0, a82, 0, 0, 0);
            v83 = a82[0];
            host_read_local(&group0, 0, 0, la1, a84, 0, 0, 0);
            v85 = a84[0];
            let86 = v85 + 257 - v83;
            r87 = let86 < 257 ? let86 : let86 - 257;
            r88 = -r87 + 256;
            let89 = -v76 + 256;
            r90 = let89 <= r88 ? let89 : r88;
            if (v85 + r90 <= 257) {
                host_write_shared(&shm1, a72, v85, v76, v76 + r90 - 1);
            } else {
                uint32_t r91;
                uint32_t r92;
                
                r91 = -v85 + 257;
                host_write_shared(&shm1, a72, v85, v76, v76 + r91 - 1);
                r92 = v76 + r91;
                host_write_shared(&shm1, a72, 0, r92, r92 + (r90 - r91) - 1);
            }
            let93 = v85 + r90;
            r94 = let93 < 257 ? let93 : let93 - 257;
            a95[0] = r94;
            host_write_local(&group0, 0, 0, la1, a95, 0, 0, 0);
            r74 = v76 + r90;
        }
        if (v70) {
            float _a96[256];
            float *a96 = _a96;
            uint32_t r97;
            uint32_t _a118[1];
            uint32_t *a118 = _a118;
            uint32_t v119;
            uint32_t _a120[1];
            uint32_t *a120 = _a120;
            uint32_t v121;
            uint32_t r124;
            uint32_t v126;
            bool v127;
            
            r97 = 0;
            while (1) {
                uint32_t v98;
                uint32_t v99;
                uint32_t _a104[1];
                uint32_t *a104 = _a104;
                uint32_t v105;
                uint32_t _a106[1];
                uint32_t *a106 = _a106;
                uint32_t v107;
                uint32_t r108;
                uint32_t let109;
                uint32_t r110;
                uint32_t let111;
                uint32_t r112;
                uint32_t let115;
                uint32_t r116;
                uint32_t _a117[1];
                uint32_t *a117 = _a117;
                
                v98 = r97;
                if (!(v98 < 256))
                    break;
                v99 = r97;
                while (1) {
                    uint32_t _a100[1];
                    uint32_t *a100 = _a100;
                    uint32_t v101;
                    uint32_t _a102[1];
                    uint32_t *a102 = _a102;
                    uint32_t v103;
                    
                    host_read_local(&group0, 3, 0, la78, a100, 0, 0, 0);
                    v101 = a100[0];
                    host_read_local(&group0, 3, 0, la79, a102, 0, 0, 0);
                    v103 = a102[0];
                    if (!(v101 == v103))
                        break;
                    usleep(100);
                }
                host_read_local(&group0, 3, 0, la78, a104, 0, 0, 0);
                v105 = a104[0];
                host_read_local(&group0, 3, 0, la79, a106, 0, 0, 0);
                v107 = a106[0];
                r108 = 257;
                let109 = r108 + v107 - v105;
                r110 = let109 < r108 ? let109 : let109 - r108;
                let111 = -v99 + 256;
                r112 = let111 <= r110 ? let111 : r110;
                if (v105 + r112 <= r108) {
                    host_read_shared(&shm64, a96, v105, v99, v99 + r112 - 1);
                } else {
                    uint32_t r113;
                    uint32_t r114;
                    
                    r113 = r108 - v105;
                    host_read_shared(&shm64, a96, v105, v99, v99 + r113 - 1);
                    r114 = v99 + r113;
                    host_read_shared(&shm64, a96, 0, r114, r114 + r112 - r113 -
                                     1);
                }
                let115 = v105 + r112;
                r116 = let115 < r108 ? let115 : let115 - r108;
                a117[0] = r116;
                host_write_local(&group0, 3, 0, la78, a117, 0, 0, 0);
                r97 = v99 + r112;
            }
            host_read_local(&group0, 3, 0, la78, a118, 0, 0, 0);
            v119 = a118[0];
            host_read_local(&group0, 3, 0, la79, a120, 0, 0, 0);
            v121 = a120[0];
            if (v119 == v121 && v121 == 256) {
                uint32_t _a122[1];
                uint32_t *a122 = _a122;
                uint32_t _a123[1];
                uint32_t *a123 = _a123;
                
                a122[0] = 0;
                host_write_local(&group0, 3, 0, la78, a122, 0, 0, 0);
                a123[0] = 0;
                host_write_local(&group0, 3, 0, la79, a123, 0, 0, 0);
            }
            r124 = 256;
            
            float _a125[r124];
            float *a125 = _a125;
            
            for (v126 = 0; v126 < r124; v126++) {
                a125[v126] = a96[v126];
            }
            v127 = emit_samples(a125);
            if (!v127) {
                r67 = false;
            }
        } else {
            r67 = false;
        }
    }
    teardown_queues();
    e_free(&shm1);
    e_free(&shm64);
    e_reset_group(&group0);
    e_close(&group0);
    e_finalize();
    return 0;
}
